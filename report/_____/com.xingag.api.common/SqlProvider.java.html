<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>SqlProvider.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">JaCoCo Report</a> &gt; <a href="../index.html" class="el_bundle">代码覆盖率</a> &gt; <a href="index.source.html" class="el_package">com.xingag.api.common</a> &gt; <span class="el_source">SqlProvider.java</span></div><h1>SqlProvider.java</h1><pre class="source lang-java linenums">package com.xingag.api.common;

import com.xingag.api.domain.People;
import org.apache.ibatis.jdbc.SQL;


<span class="nc" id="L7">public class SqlProvider {</span>

    /***
     * 使用MyBatis的SQL方法来更新sql语句
     *
     * @return
     */
    public String updatePeopleSql(People people) {

        //包含表名，要更新的字段，更新条件（id）
        //最后组装成新的SQL语句
<span class="nc" id="L18">        return new SQL() {{</span>
<span class="nc" id="L19">            UPDATE(&quot;people&quot;);</span>

<span class="nc bnc" id="L21" title="All 2 branches missed.">            if (null != people.getName()) {</span>
<span class="nc" id="L22">                SET(&quot;name=#{name}&quot;);</span>
            }
<span class="nc" id="L24">            SET(&quot;age=#{age}&quot;);</span>
<span class="nc" id="L25">            SET(&quot;extra=#{extra}&quot;);</span>
<span class="nc" id="L26">            WHERE(&quot;id=#{id}&quot;);</span>
<span class="nc" id="L27">        }}.toString();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>